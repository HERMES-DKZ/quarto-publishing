---
title: "Creating and implementing code for visualisations"
teaching: 0
exercises: 1
---

:::::::::::::::::::::::::::::::::::::: questions 

- How do you implement code in Quarto?
- How to use code to create visualisations and graphs?
- How do you annotate visualisations?
  
::::::::::::::::::::::::::::::::::::::::::::::::

::::::::::::::::::::::::::::::::::::: objectives

- Implement Python, Mermaid and Graphviz code in your Quarto document.
- Create visualisations and graphs with your code.

::::::::::::::::::::::::::::::::::::::::::::::::

Quarto can be used to both show and render code in a newly created document. One can basically program directly in quarto, using ones preferred coding language, and have the data rendered directly in the pdf or html document.
In order to do so you need to simply insert your code into the document.
In this lesson we will mostly implement python code, as well as several integrated coding languages.

::: callout
#### Note:
By default, code inserted via Markdown will be shown as code blocks in the rendered document. If you want to use collapsable or hidden code blocks in your renders, simply add 'code-fold: true' to your YAML section.

One can not only insert code into oneâ€™s documents, but also directly visualize it in order to create illustrations based on the inserted code. 
This can be done in a variety of ways, such as using already integrated programming languages like mermaid, or by importing and using extensions like plotly in Python code cells.
:::

## Using Python:
Various python extensions can be used to plot and illustrate data in Quarto. Doing so will poste no difference to doing this in a pure Python environment.

::: caution
The intricacies of creating useful charts and visualisations using various Python libraries would be too much to discuss in this lesson. We would encourage you to visist pour lesson python101 in order to learn more about this.
:::

You simply need to insert the following part into your Quarto document:

<p>```{python}</p>
<p>```</p>
<p><br></p>

We will use a code chunk from the Python 101 Lesson to show you an example:
![](https://pad.zdv.net/uploads/1aaad49a-e618-486d-b63c-b368b59a3ce8.png)

::: caution
#### Caution:
Not all forms of visualisation work in every format. In this example plotly only works in html formats, not in pdf or similar formats.
:::

## Using Mermaid:

One of the coding languages already integrated in Quarto is Mermaid. 
Mermaid is a simple, text-based diagramming and visualization language that lets you create flowcharts, sequence diagrams, Gantt charts, class diagrams, and more using plain text.
It uses a very simple text-based programming language.
To make the work with Mermaid easy, you can use one of several web-based Mermaid editors. These allow you to create your graphs visually and copy the underlying code. You can then paste this code into your Quarto document.
One of these Website is [Mermaid.live](https://mermaid.live/).

In order to use Mermaid, simply put your mermaid text into the following part:
<p>```{mermaid}</p>
<p>```</p>
<p><br></p>

Here is an example of a Mermaid chart in your document: 
![](https://pad.zdv.net/uploads/72f7a66e-f829-4b69-aad7-e3ec50d922af.png)

## Using Graphviz

Similar to Mermaid, Graphviz is an integrated coding language, which uses simple text-based descriptions of charts in order to create visualisations.
Like with Mermaid, the simplest way to use Graphviz with Quarto is to use a [web based Graphwiz editor](https://edotor.net/) and copy the resulting code into your Quarto document, this time using:

<p>```{dot}</p>
<p>```</p>
<p><br></p>

Here is an example for a rendered Graphviz visualisation:
![](https://pad.zdv.net/uploads/df667572-74c9-4de0-8bf1-4d20013cb4b3.png)

## Adding information

When implementing visualisations, it is always important to add relevant information in form of titles, descriptions etc to the chart.
This can be done by inserting the relevant information into the relevant code chunk in form of comments.
Here one can use the same commands that are also used for the sizing and descriptions of pictures and illustrations. An overview of the possibilities can be found [here](https://quarto.org/docs/authoring/figures.html)

This could look the following in Source Mode:
![](https://pad.zdv.net/uploads/b70f62dd-8244-40aa-b67b-641e8a4564cd.png)

::: caution
#### Caution:

Every Coding language has a different way of creating comments. The ones used in this Lesson are the following:

Python: ##|
Mermaid: %%|
Graphviz: //|
:::

::: challange
#### Exercise:

Use a programming language of your choice to add code block to your document. Try to implement visualisations of your choice.
Then render again to see the results.
:::
